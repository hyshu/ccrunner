name: Bash Condition Example
description: Demonstrates using Bash conditions in steps

steps:
  - type: command
    name: Create test file
    command: echo "test content" > test.txt
    
  - type: command
    name: Run only if file exists
    command: echo "File exists!"
    condition: "-f test.txt"
    conditionType: bash
    
  - type: command
    name: Run only if file is not empty
    command: echo "File is not empty!"
    condition: "-s test.txt"
    conditionType: bash
    
  - type: command
    name: Run only if variable equals value
    command: echo "Variable matches!"
    condition: '"$USER" = "me"'
    conditionType: bash
    
  - type: loop
    name: Loop while counter less than 5
    condition: "$counter -lt 5"
    conditionType: bash
    maxIterations: 10
    steps:
      - type: command
        name: Increment counter
        command: echo "Counter is ${counter}"
        saveResultAs: output
        
      - type: command
        name: Update counter
        command: echo $((${counter} + 1))
        saveResultAs: counter
        
  - type: command
    name: Cleanup
    command: rm -f test.txt